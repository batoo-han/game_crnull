## Архитектура проекта

### Назначение
Проект реализует браузерную игру «Крестики-нолики» (игрок против компьютера) с серверной валидацией результата, выдачей уникального промокода при победе и отправкой сообщений в Telegram.

### Структура репозитория
- `apps/web/` — фронтенд (React + TypeScript).
- `apps/api/` — бекенд (Python 3.12+, FastAPI).
- `infra/` — инфраструктура (Docker/Docker Compose/Nginx).
- `docs/` — документация.

### Компоненты
1) **Frontend (Web)**
   - Рендерит UI, отправляет ходы на API, показывает состояние игры.
   - Не вычисляет «победу» самостоятельно как источник истины (только отображение).

2) **Backend (API)**
   - Создаёт игровую сессию, валидирует ходы, делает ход бота.
   - Определяет победу/проигрыш.
   - При победе создаёт промокод (TTL) и отправляет сообщение в Telegram.
   - При проигрыше отправляет сообщение в Telegram.

3) **DB (SQLite по умолчанию)**
   - Хранит сессии игры, настройки, промокоды, учёт выдачи.
   - Можно задать другой DSN через `DATABASE_URL` (например, внешний Postgres), но дефолт — файл `data/app.db`.

4) **Админка**
   - UI в браузере (`/admin`), доступ по логину/паролю.
   - Настраивает Telegram, промокоды, тему, сложность.

### Почему сервер — источник истины
Это защита от накруток: пользователь не может «подделать победу» простым запросом, потому что победа определяется только после серверной проверки последовательности ходов.


